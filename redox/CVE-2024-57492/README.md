# syscall-munmap-f3fc45a-round_up_to_page_size-integer_overflow (CVE-2024-57492)
Integer overflow in `round_up_to_page_size()`

## Reference
Issue: https://gitlab.redox-os.org/redox-os/relibc/-/issues/200  
Fix: https://gitlab.redox-os.org/redox-os/relibc/-/merge_requests/569

### Describe the bug
There is an integer overflow in `round_up_to_page_size()` at src/platform/redox/mod.rs:48 when program calls memory related syscall (i.e., `mmap`, `munmap`, and `mprotect`) with large `len`.

https://gitlab.redox-os.org/redox-os/relibc/-/blob/master/src/platform/redox/mod.rs?ref_type=heads#L47-49

### To Reproduce
1. Compile a program which calls system call `munmap` with large `len`
```C
#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/mman.h>
#include <unistd.h>

int main() {
  void *addr = mmap(NULL, 4096, 0x3, MAP_PRIVATE | MAP_ANONYMOUS, -1, 0);
  munmap(addr, 0xffffffffffffffff);

  return EXIT_SUCCESS;
}
```
2. Run the compiled program

### Logs
I add `overflow-checks = true` for relibc.
```log
user:~# munmap
RELIBC PANIC: panicked at src/platform/redox/mod.rs:48:6:
attempt to add with overflow
```
